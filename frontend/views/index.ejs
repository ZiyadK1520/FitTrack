<%- include('layout/header') %>

<body class="bg-dark text-light">
  <div class="container">
    <div class="row my-4">
      <div class="col-lg-12">
        <% if (message) { %>
          <!-- Alert Message -->
          <div
            class="alert alert-dismissible fade show alert-<%= message.type %>"
            role="alert"
          >
            <button
              class="btn-close"
              type="button"
              data-bs-dismiss="alert"
              aria-label="Close"
            ></button>
            <strong><%= message.message %></strong>
          </div>
        <% } %>

        <!-- Table Section -->
        <div class="table-responsive bg-dark rounded-3 p-4 shadow-lg">
          <% if (users && users.length > 0) { %>
            <table class="table table-dark table-striped table-hover text-center my-3">
              <thead>
                <tr class="table-primary">
                  <th>ID</th>
                  <th>Workout</th>
                  <th>Weight</th>
                  <th>Sets</th>
                  <th>Reps</th>
                  <th>Target</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <% users.forEach((row, index) => { %>
                  <tr class="align-middle">
                    <td><%= index + 1 %></td>
                    <td><%= row.Workout %></td>
                    <td><%= row.Weight %></td>
                    <td><%= row.Sets %></td>
                    <td><%= row.Reps %></td>
                    <td><%= row.Target %></td>
                    <td>
                      <a href="/edit/<%= row._id %>" class="text-success">
                        <i class="fas fa-edit fa-lg mx-1"></i>
                      </a>
                      <a href="/delete/<%= row._id %>" class="text-danger">
                        <i class="fas fa-trash fa-lg mx-1"></i>
                      </a>
                    </td>
                  </tr>
                <% }); %>
              </tbody>
            </table>
          <% } else { %>
            <!-- No Workouts Placeholder -->
            <h1 class="text-center text-secondary mt-5">No workouts added!</h1>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</body>

<%- include('layout/footer') %>

